# reverse-cam
Reverse camera in BeamNG.drive

## Folders
### Lua
The Lua folder contains the generic Lua files that can be configured via JBeam.
This non-specific code is not functional on its own but requires some setup as shown in the example.
Note: the GELua file should always be renamed to something unique as to avoid inter-mod conflicts.

### Example
The example folder contains a working camera for the Bruckell Bastion.

## Basic Documentation
### Fields available for JBeam
To actually trigger rendering, a managing Lua controller is required. The following values can be changed in JBeam:

#### geExt
The game engine Lua extension name. This is the name for the Lua file in /lua/ge, starting at /lua/ge/extensions. Additional subfolders that would usually be separated by / are substituted by an underscore.<br>
Ensure that this file has a unique name when packaging it into your own mod.<br>
Example for /lua/ge/extensions/zeit/carReverseCam.lua: zeit_carReverseCam

#### debug
Boolean value to enable/disable debug displays.

#### texTargetName
The string that the texture can be referred to by the material. Prefaced with an "@".<br>
Example: @zeit_reversecam_tex

#### camNodes
Reference node names. Needs idRef, idX and idY.<br>
Example: {"idRef": "rb2", "idX":"rb3", "idY":"rb2r"}

#### res
An array of two numbers that define the x and y size of the texture.<br>
Example: [512, 256]

#### clip
An array of two numbers that define the near and far clip (view distance) of the camera.<br>
Example: [0.1, 150]

#### fov
The field of view the camera will use.

#### rotOffset
Rotational (directional) offset as a 3 point vector.<br>
Example: {"x":0.014, "y":0.5, "z":-0.2}

#### posOffset
Position offset as a 3 point vector.<br>
Example: {"x":0, "y":-0.05, "z":-0.05}

### Material setup
The texture generated by the camera view is a color texture that is available as the name defined by "texTargetName".<br>
This can either be used as a baseColor or an emissiveMap, depending on the target result.<br>
Example: @zeit_reversecam_tex

As this texture cannot be transferred into a CEF texture, layering tricks - either mesh or material layer - are required.